{"version":3,"file":"1.chunk.js","sources":["webpack:///./src/app/pages/relationship/shared/related-user-list.component.ts","webpack:///./src/app/pages/relationship/shared/related-user-list.module.ts","webpack:///./src/app/pages/relationship/shared/related-user-list.component.css","webpack:///./src/app/pages/relationship/shared/related-user-list.component.html","webpack:///./src/app/pages/relationship/+following-list/following-list.component.ts","webpack:///./src/app/pages/relationship/+following-list/following-list.component.html","webpack:///./src/app/pages/relationship/+following-list/following-list.module.ts"],"sourcesContent":["import {Observable} from \"rxjs/Observable\";\nimport {Component, OnInit, Input} from \"@angular/core\";\nimport {RelatedUser} from \"../../../core/domains\";\nimport {HttpErrorHandler} from \"../../../core/services/http-error-handler\";\n\n@Component({\n  selector: 'mpt-related-user-list',\n  styles: [require('./related-user-list.component.css')],\n  template: require('./related-user-list.component.html'),\n})\nexport class RelatedUserListComponent implements OnInit {\n\n  @Input() listProvider: (params: {maxId: number, count: number}) => Observable<RelatedUser[]>;\n\n  users: RelatedUser[] = [];\n  noMoreUsers: boolean = false;\n\n  constructor(private errorHandler: HttpErrorHandler) {\n  }\n\n  ngOnInit(): any {\n    this.list();\n  }\n\n  loadMore() {\n    const lastUser = this.users[this.users.length - 1];\n    \n    this.noMoreUsers = this.users.length != 0;\n    \n    if (!lastUser) return false;\n    console.log(lastUser)\n    this.list(lastUser.uid);\n  }\n\n  private list(maxId = null) {\n    this.listProvider({maxId: maxId, count: 5})\n      .subscribe(users1 => {\n          this.users = this.users.concat(users1);\n          console.log(users1.length)\n          if((maxId) == null)\n          {\n              console.log('MaxID NULL  ' + users1.length)    \n          \n              this.noMoreUsers = users1.length < 5;\n          }\n          else\n          {\n              this.noMoreUsers = users1.length === 0;\n          }\n          console.log(this.noMoreUsers)\n        }, e => this.errorHandler.handle(e)\n      )\n    ;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/angular2-router-loader/src?loader=system!./src/app/pages/relationship/shared/related-user-list.component.ts","import {CommonModule} from \"@angular/common\";\nimport {RouterModule} from \"@angular/router\";\nimport {SharedModule} from \"../../../shared/shared.module\";\nimport {RelatedUserListComponent} from \"./related-user-list.component\";\nimport {NgModule} from \"@angular/core/src/metadata/ng_module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    SharedModule,\n  ],\n  declarations: [\n    RelatedUserListComponent,\n  ],\n  exports: [\n    RelatedUserListComponent,\n  ]\n})\nexport class RelatedUserListModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/angular2-router-loader/src?loader=system!./src/app/pages/relationship/shared/related-user-list.module.ts","module.exports = \".users li {\\n  padding: 8px 0;\\n  border-top: 1px solid #e8e8e8; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/relationship/shared/related-user-list.component.css\n// module id = 1296\n// module chunks = 1 2","module.exports = \"<ul class=\\\"users list-unstyled\\\">\\n  <li *ngFor=\\\"let u of users\\\">\\n    <mpt-gravatar [alt]=\\\"u.name\\\" [email]=\\\"u.email\\\" [size]=\\\"60\\\"></mpt-gravatar>\\n    <a [routerLink]=\\\"['/users', u.uid]\\\">{{u.name}}</a>\\n  </li>\\n</ul>\\n\\n<button class=\\\"btn btn-warning moreBtn\\\" type=\\\"button\\\" (click)=\\\"loadMore()\\\"\\n        [disabled]=\\\"noMoreUsers\\\">More\\n</button>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/relationship/shared/related-user-list.component.html\n// module id = 1297\n// module chunks = 1 2","import {Observable} from \"rxjs/Observable\";\nimport {Component, OnInit} from \"@angular/core\";\nimport {ActivatedRoute} from \"@angular/router\";\nimport {RelatedUser} from \"../../../core/domains\";\nimport {UserService} from \"../../../core/services/user.service\";\n\n@Component({\n  selector: 'mpt-following-list',\n  template: require('./following-list.component.html'),\n})\nexport class FollowingListComponent implements OnInit {\n\n  userId: number;\n  listProvider: (params: any) => Observable<RelatedUser[]>;\n\n  constructor(private userService: UserService,\n              private route: ActivatedRoute) {\n  }\n\n  ngOnInit(): any {\n    this.route.params.subscribe(routeParams => {\n      this.userId = routeParams['id'];\n      this.listProvider = (params) => {\n        return this.userService.listFollowings(this.userId, params);\n      };\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/angular2-router-loader/src?loader=system!./src/app/pages/relationship/+following-list/following-list.component.ts","module.exports = \"<div class=\\\"row\\\">\\n\\n  <aside class=\\\"col-md-4\\\">\\n    <mpt-user-stats [userId]=\\\"userId\\\"></mpt-user-stats>\\n  </aside>\\n\\n  <div class=\\\"col-md-8\\\">\\n    <h3>Following</h3>\\n    <mpt-related-user-list [listProvider]=\\\"listProvider\\\"></mpt-related-user-list>\\n  </div>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/relationship/+following-list/following-list.component.html\n// module id = 1524\n// module chunks = 1","import {CommonModule} from \"@angular/common\";\nimport {UserStatsModule} from \"../../../components\";\nimport {RelatedUserListModule} from \"../shared/related-user-list.module\";\nimport {NgModule} from \"@angular/core/src/metadata/ng_module\";\nimport {FollowingListComponent} from \"./following-list.component\";\nimport {Routes, RouterModule} from \"@angular/router\";\n\nconst routes: Routes = [\n  {path: '', component: FollowingListComponent},\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    UserStatsModule,\n    RelatedUserListModule\n  ],\n  declarations: [\n    FollowingListComponent,\n  ],\n  exports: [\n    FollowingListComponent,\n  ]\n})\nexport class FollowingListModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/angular2-router-loader/src?loader=system!./src/app/pages/relationship/+following-list/following-list.module.ts"],"mappings":";;;;;;;AACA;AAEA;AAOA;AAOA;AAAA;AAHA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AAzCA;AAAA;;AAAA;AAPA;AAAA;AACA;AACA;AACA;AACA;;AAAA;AA8CA;;AAAA;AA7CA;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AAeA;AAAA;AACA;AAdA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAEA;AAAA;AADA;;;;;;;;ACnBA;;;;;;;ACAA;;;;;;;;;ACCA;AACA;AAEA;AAMA;AAKA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAAA;AACA;AACA;AACA;;AAAA;AAmBA;;AAAA;AAlBA;;;;;;;;ACVA;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAgBA;AAAA;AACA;AAfA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAEA;AAAA;AADA;;;;;","sourceRoot":""}